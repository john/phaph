= form_for @lab, :role => 'form', :html => {:class => 'form-horizontal'} do |f|
  - if @lab.errors.any?
    #error_explanation
      %h2= "#{pluralize(@lab.errors.count, "error")} prohibited this lab from being saved:"
      %ul
        - @lab.errors.full_messages.each do |msg|
          %li= msg
  = f.hidden_field :creator_id
  
  .form-group
    .col-sm-7
      = f.label :name, :class => 'sr-only'
      = f.text_field :name, class: 'form-control', :placeholder => 'Lab name', autofocus: true
      
  .form-group
    .col-sm-7
      = f.label :description, :class => 'sr-only'
      = f.text_area :description, class: 'form-control', style: 'height:200px;'
      
  .form-group
    .col-sm-7
      = f.email_field :email, class: 'form-control', placeholder: 'Email'
      
  .form-group
    .col-sm-7
      - location = (@lab.locations.present?) ? @lab.locations.first.name : ''
      = text_field_tag :location, location, class: 'form-control', placeholder: 'Location'
      
  .form-group
    .col-sm-7
      Visibility:
      = f.label :scope, :class => 'sr-only'
      = f.select :scope, options_for_select(Scope.options_hash, @lab.scope), :class => 'form-control'
      
  - if action_name == 'edit'
    .form-group
      .col-sm-7
        State:
        = f.label :state, :class => 'sr-only'
        = f.select :state, options_for_select([['active', 'active'], ['inactive', 'inactive']], @lab.state), :class => 'form-control'
        
  .form-group
    .col-sm-7
      = f.submit 'Save', :class => 'btn btn-primary'